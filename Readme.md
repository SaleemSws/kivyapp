# แอปพลิเคชัน Pomodoro Timer

Pomodoro Timer เป็นแอปพลิเคชันที่ช่วยบริหารเวลาในการทำงานหรือทำสิ่งต่างๆ ซึ่งเป็นการเอา Pomodoro Technique ที่ช่วยให้สมองไม้ต้องทำงานหนักเกินไปและไม่เหนื่อยล้า ช่วยให้เรามีเป้าหมายการโฟกัสที่นานขึ้น มาจัดทำเป็นแอปซึ่งจะมีความยืดหยุ่นในการบริหารเวลาให้เกิดประโยชน์ แอปนี้จะเป็นการจับเวลาซึ่งสามารถแบ่งออกได้ 2 ส่วนหลักๆ
ได้แก่ เวลาในส่วนของการทำงานและเวลาในส่วนของการพัก ยกตัวอย่างเช่น ถ้าเราต้องการอ่านหนังสือ 4 ชั่วโมงต่อวัน เราสามารถจัดสรรเวลาเองได้ อาจจะแบ่งเป็น 4 ส่วน คือ อ่าน 30 นาที 4 รอบ และหลังจากอ่านเสร็จในทุกรอบจะทำการพักเล็กน้อยเช่น อาจจะพัก 5 นาทีหลังจากอ่านหนังสือมาแล้ว 30 นาทีและทำจนกว่าจะครบเป้าหมายตามที่เราตั้งไว้


## การทำงานของแอป Pomodoro Timer
สามารถแบ่งการทำงานออกได้เป็น 2 ส่วนหลัก ได้แก่ ส่วนของเวลาทำงานและส่วนของเวลาพัก
    เริ่มแรกผู้ใช้สามารถตั้งค่าเวลาที่จะทำงานและเวลาพักได้ตามที่ต้องการซึ่งทั้งสองโหมดจะทำงานคล้ายๆกันคือจะนับเวลาถอยหลังจากเวลาที่ตั้งไว้
นอกจากนี้ผู้ใช้ยังสามารถตั้งเป้าหมายรายวันได้ด้วยว่าต้องการใช้เวลากี่ชั่วโมงในแต่ละวัน ซึ่งในโปรแกรมจะโหลดติดตามการใช้เวลาในแต่ละวันเพื่อให้เห็นความคืบหน้า 
จากที่กล่าวมาข้างต้นสามารถสรุปเป็นการทำงานและใช้งานหลักๆได้ ดังนี้

- **ตั้งเวลาที่ปรับแต่งได้**: กำหนดระยะเวลาการทำงานและพักได้ตามต้องการ
- **ติดตามความคืบหน้า**: ติดตามความคืบหน้ารายวันตามเป้าหมายที่กำหนดไว้
- **ป๊อปอัปแนะนำ**: มีข้อความแนะนำเวลาพัก
- **วิดีโอพื้นหลัง**: วิดีโอพื้นหลังที่ช่วยให้ผ่อนคลาย พร้อมควบคุมระดับเสียงได้ เปิดหรือปิดเสียงได้
- **ข้อความให้กำลังใจ**: เมื่อทำสำเร็จในแต่ละ session จะมีข้อความขึ้นมาให้กำลังใจ
- **เสียงแจ้งเตือนเมื่อหมดเวลา**: มีเสียงแจ้งเตือนเมื่อหมดเวลาที่เราตั้งไว้
- **ปุ่มควบคุมต่างๆ**: มีปุ่ม start(เริ่มจับเวลาหรือให้เวลาเดินต่อหลังจากหยุด),stop(หยุดเวลา),reset(ตั้งเวลาเริ่มต้นใหม่อีกครั้งตามที่ผู้ใช้ป้อนเข้าไป)
- **ข้อความให้กำลังใจ**: เมื่อทำสำเร็จในแต่ละ session จะมีข้อความขึ้นมาให้กำลังใจ



#### โครงสร้างโค้ด
สำหรับแอปนี้มีการแบ่งโค้ดเป็น 2 ไฟล์ คือ main.py และ pomodoro.kv ซึ่งจะมีการทำงานที่ต้องทำงานร่วมกันทั้ง 2 ภาษาคือในส่วนของ ui และการใช้งานต่างๆในแอป
### 1. โค้ด Python (`main.py`)
## 1.1 การนำเข้าโมดูล**
โค้ดเริ่มต้นด้วยการนำเข้าโมดูลต่างๆ ที่จำเป็นสำหรับการสร้างแอปพลิเคชัน ยกตัวอย่างเช่น
kivy: เฟรมเวิร์กสำหรับสร้าง UI
os, json: สำหรับจัดการไฟล์และข้อมูล JSON
datetime, timedelta: สำหรับจัดการเวลา
random: สำหรับสุ่มคำแนะนำและข้อความให้กำลังใจ
และอื่นๆอีกตามที่ต้องการใช้

**ในโปรแกรมนี้จะมีตัวแปรและฟังก์ชันที่เป็น Global และ Local ซึ่งส่วนใหญ่จะเป็น Local เนื่องจากจะอยู่ในคลาสต่างๆที่ทำหน้าที่โดยเฉพาะตามที่ต้องการ**

## 1.2 ตัวแปรและฟังก์ชันช่วยเหลือซึ่งเป็นแบบ global
BREAK_TIPS: เป็นคำแนะนำสำหรับการพักผ่อน
WORK_MOTIVATIONS และ BREAK_MOTIVATIONS: รายการข้อความให้กำลังใจสำหรับช่วงทำงานและพักผ่อนเมื่อทำสำเร็จแล้ว
ICONS: รายการไอคอนที่สุ่มแสดงเมื่อสิ้นสุดช่วงทำงานหรือพักผ่อน
get_random_break_tip(), get_random_motivation(), get_random_icon(): ฟังก์ชันที่ใช้สุ่มเลือกคำแนะนำ, ข้อความให้กำลังใจ, และไอคอน

## คลาสหลัก1.3:
**คลาส PomodoroHistory**
คลาสนี้ใช้สำหรับจัดการประวัติการใช้งาน Pomodoro Timer โดยบันทึกข้อมูลลงในไฟล์ JSON ตัวอย่างฟังก์ชันและหน้าที่ของฟังก์ชัน
load_history(): โหลดประวัติจากไฟล์ JSON หรือสร้างไฟล์ใหม่หากไม่มี
update_current_progress(): อัปเดตความคืบหน้าประจำวัน
record_session(): บันทึกเซสชันการทำงานหรือพักผ่อน
prune_old_records(): ลบประวัติที่เก่ากว่า 30 วัน
save_history(): บันทึกประวัติลงไฟล์ JSON

**คลาส Pomodoro**
คลาสนี้เป็น core logic ของ Pomodoro Timer ซึ่งเป็นแกนหลักของโปรแกรมนี้ ตัวอย่างฟังก์ชัน เช่น
start_timer(), stop_timer(), reset_timer(): ฟังก์ชันสำหรับเริ่ม, หยุด, และรีเซ็ต Timer
switch_mode(): สลับระหว่างโหมดทำงานและพักผ่อน
update_time(): อัปเดตเวลาที่เหลือใน Timer และจัดการเมื่อเวลาหมด
play_alert(): เล่นเสียงเตือนเมื่อเวลาหมด
set_work_duration(), set_break_duration(), set_daily_goal(): ฟังก์ชันสำหรับตั้งค่าช่วงเวลาทำงาน, พักผ่อน, และเป้าหมายประจำวัน

**คลาส PomodoroApp**
คลาสที่ทำหน้าที่เริ่มต้นและรันแอป

**คลาส VideoBackground**
คลาส VideoBackground เป็นคลาสที่สืบทอดมาจาก Video ของ Kivy ซึ่งใช้สำหรับเล่นวิดีโอพื้นหลังในแอปพลิเคชัน คลาสนี้จะเล่นวิดีโอพื้นหลังแบบ loop (เล่นซ้ำ) และยืดวิดีโอให้เต็มหน้าจอ

**คลาส PomodoroRoot**
คลาส PomodoroRoot เป็นคลาสหลักที่ทำหน้าที่เป็น root layout ของแอปพลิเคชัน โดยใช้ FloatLayout ซึ่งเป็น layout ที่อนุญาตให้วาง widget ต่างๆ ได้อย่างอิสระบนหน้าจอ โดยไม่ต้องยึดตามตำแหน่งตายตัว คลาสนี้จะสร้างและจัดการวิดีโอพื้นหลัง (VideoBackground) และเพิ่ม Pomodoro widget เข้าไปใน layout ตัวอย่างฟังก์ชันที่มี increase_volume(), decrease_volume(), toggle_mute(): ใช้สำหรับปรับระดับเสียงของวิดีโอพื้นหลัง

**คลาส TimesUpPopup**
คลาส TimesUpPopup เป็นคลาสที่สืบทอดมาจาก Popup ของ Kivy ซึ่งใช้สำหรับสร้าง popup ที่แสดงขึ้นเมื่อสิ้นสุดช่วงทำงาน (Work) หรือช่วงพัก (Break) ในแอปพลิเคชัน Pomodoro Timer 
จะแสดง popup เมื่อเวลาทำงานหรือเวลาพักหมดลงและ
แสดงข้อความให้กำลังใจ (motivation message) และไอคอนที่สุ่มได้มีปุ่มให้ผู้ใช้กดเพื่อปิด popup
ตัวอย่างฟังก์ชัน motivation_label: ข้อความให้กำลังใจที่สุ่มได้จาก WORK_MOTIVATIONS หรือ BREAK_MOTIVATIONS
icon_image: ไอคอนที่สุ่มได้จาก ICONS ซึ่งเป็นรูปภาพที่แสดงตามโหมด (Work หรือ Break)


**คลาส BreakTipPopup**
คลาส BreakTipPopup เป็นคลาสที่สืบทอดมาจาก Popup ของ Kivy ซึ่งใช้สำหรับสร้าง popup ที่แสดงคำแนะนำสำหรับการพักผ่อนเมื่อสิ้นสุดช่วงทำงาน
เมื่อผู้ใช้สิ้นสุดช่วงทำงาน (Work) และเข้าสู่ช่วงพัก (Break) popup นี้จะแสดงขึ้นมา
ข้อความคำแนะนำจะถูกสุ่มจาก BREAK_TIPS และแสดงใน break_tip_label

### 2. โค้ด kivy (`pomodoro.kv`)
ไฟล์ KV ใช้สำหรับกำหนด UI ของแอปพลิเคชัน โดยใช้ syntax เฉพาะของ Kivy
**2.1 <PomodoroRoot>**
กำหนด layout หลักของแอปพลิเคชัน ซึ่งประกอบด้วยวิดีโอพื้นหลังและตัว Pomodoro Timer

**2.2<Pomodoro>**
กำหนด UI ของ Pomodoro Timer โดยมีส่วนประกอบต่างๆ เช่น:
ปุ่มควบคุมเสียง (เพิ่ม, ลด, ปิดเสียง)
แสดงโหมดปัจจุบัน (ทำงานหรือพักผ่อน)
นาฬิกานับถอยหลังแสดงความคืบหน้ารายวัน
ปุ่มสำหรับตั้งค่าช่วงเวลาทำงาน, พักผ่อน, และเป้าหมายประจำวัน
ปุ่มเริ่ม, หยุด, รีเซ็ต Timer ปุ่มสลับโหมด

**2.3<TimesUpPopup>**
กำหนด UI ของ popup ที่แสดงเมื่อสิ้นสุดช่วงทำงานหรือพักผ่อน โดยแสดงข้อความให้กำลังใจและไอคอนสุ่มตามโหมดต่างๆ


***โค้ดทั้งหมดนี้เป็นแอป Pomodoro Timer ที่ช่วยจัดการเวลา ทำงานและพักเบรก โดยมีการจับเวลา สลับโหมด และแสดงผลผ่าน UI ที่สวยงามพร้อม Progress Bar และวิดีโอพื้นหลัง ข้อมูลการใช้งานจะถูกบันทึกในไฟล์ JSON เพื่อให้ผู้ใช้ติดตามประวัติและเป้าหมายประจำวัน แอปรองรับการปรับแต่งเวลา เป้าหมาย และมีป๊อปอัพให้กำลังใจเพื่อเพิ่มประสิทธิภาพและความน่าสนใจในการใช้งาน***


**แอปนี้คือ Pomodoro Timer สำหรับช่วยผู้ใช้งานจัดการเวลาในการทำงานและพักเบรกอย่างมีประสิทธิภาพ โดยใช้หลักการของ Pomodoro Technique ที่แบ่งเวลาเป็นรอบๆ เช่น ทำงาน 25 นาที และพักเบรก 5 นาที แอปยังเพิ่มความน่าสนใจด้วยวิดีโอพื้นหลัง ข้อความสร้างแรงจูงใจ และเคล็ดลับการพักเบรกที่ช่วยให้ผู้ใช้งานผ่อนคลายและมีแรงจูงใจมากขึ้น ข้อมูลการใช้งานจะถูกบันทึกและแสดงเป็นประวัติที่เรียกดูได้ เพื่อช่วยให้ผู้ใช้บรรลุเป้าหมายประจำวันและพัฒนาตนเองอย่างต่อเนื่อง**
